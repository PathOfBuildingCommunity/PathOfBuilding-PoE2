--
-- Export all spectre monsters from game data
--
local out = io.open("../Export/Minions/SpectreList.txt", "w")
out:write('-- This file is automatically generated, do not edit!\n')
out:write('-- Gem data (c) Grinding Gear Games\n\n')

local export = false
local spectreList = {}
local uniqueName = {}

for monster in dat("MonsterVarieties"):Rows() do
	if monster.NotSpectre == false and monster.BossHealthBar == false and not monster.Id:match("NPC") and not monster.Name:match("DNT") and not monster.AIScript:match("NoAI") then
		for _, name in ipairs(uniqueName) do
			if name == monster.Name then
				goto continue
			end
		end
		for _, mod in ipairs(monster.Mods) do
			if mod.Id == "CannotBeUsedAsMinion" then
				goto continue
			end
		end
		for _, mod in ipairs(monster.ModsKeys2) do
			if mod.Id == "CannotBeUsedAsMinion" then
				goto continue
			end
		end
		for _, tag in ipairs(monster.Tags) do
			if tag.Id == "unusable_corpse" then
				goto continue
			end
		end
		out:write(monster.Id..string.rep(" ", 90 - string.len(monster.Id)).."\t\t----\t\t"..monster.Name, "\n")
		table.insert(uniqueName, monster.Name)
	end
	::continue::
end


out:close()

print("Spectre List exported.")